<EntityList name="NFMPFilterGroup" RootFilterExpression="$[?(@.className=='equipment.PhysicalPort')]" FilterHandler="com.nokia.nsw.uiv.adapter.handler.xml.NFMPL2VPNGenericNodeHandler">
	<Entity type="PhysicalPort" markForAsso="true">
		<Filter>
			<ValueExpression>(/JsonRootNode/className eq 'equipment.PhysicalPort') and contains(/JsonRootNode/phyShelfClass,'ethSat')</ValueExpression>
		</Filter>
		<AttributeList>
			<Attribute>
				<Name>LocalName</Name>
				<ValueExpression>concat('Port-',/JsonRootNode/portId)</ValueExpression>
				<Context>
					<ValueExpression/>
				</Context>
			</Attribute>
			<Attribute>
				<Name>Context</Name>
				<ValueExpression>substring-before(/JsonRootNode/objectFullName,':port-')</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>Kind</Name>
				<ValueExpression/>
				<!-- <ValueExpression>if(contains(/JsonRootNode/className,'ProcessorCard')) then 'ProcessorCard' else(if(contains(/JsonRootNode/className,'BaseCard')) then 'BaseCard' else 'Card')</ValueExpression> -->
				<DefaultValue>AggPhysicalPort</DefaultValue>
			</Attribute>          
			
			<Attribute>
				<Name>Category</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DiscoveredName</Name>
				<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DisplayName</Name>
				<ValueExpression>/JsonRootNode/displayedName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>portNumber</Name>
				<ValueExpression>/JsonRootNode/portId</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>description</Name>
				<ValueExpression>/JsonRootNode/description</ValueExpression>
				<DefaultValue/>
			</Attribute>
			
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/isEnabled</ValueExpression>
				<Key>isEnabled</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/reasonDown</ValueExpression>
				<Key>reasonDown</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessBandwidth</ValueExpression>
				<Key>accessBandwidth</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessBookingFactor</ValueExpression>
				<Key>accessBookingFactor</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessAvailableBW</ValueExpression>
				<Key>accessAvailableBW</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessBookedBW</ValueExpression>
				<Key>accessBookedBW</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portId</ValueExpression>
				<Key>portId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portCategory</ValueExpression>
				<Key>portCategory</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portClass</ValueExpression>
				<Key>portClass</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<Key>specificType</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/specificCardType</ValueExpression>
				<Key>specificCardType</Key>
			</Attribute>			
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/mode</ValueExpression>
				<Key>mode</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/encapType</ValueExpression>
				<Key>encapType</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/isLinkUp</ValueExpression>
				<Key>isLinkUp</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/state</ValueExpression>
				<Key>state</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/mtuValue</ValueExpression>
				<Key>mtuValue</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/operationalMTU</ValueExpression>
				<Key>operationalMTU</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/speed</ValueExpression>
				<Key>speed</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/actualSpeed</ValueExpression>
				<Key>actualSpeed</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portName</ValueExpression>
				<Key>portName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteId</ValueExpression>
				<Key>siteId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteName</ValueExpression>
				<Key>siteName</Key>
			</Attribute>
			  <Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/operationalState</ValueExpression>
				<Key>aggOperationalState</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/administrativeState</ValueExpression>
				<Key>aggAdministrativeState</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/name</ValueExpression>
				<Key>name</Key>
			</Attribute>
		</AttributeList>
		<AssoicationList>
			<KeyBasedAssoication>
				<!--
			<SelfKey>			
			<Key>
                  <Name>CardToPort</Name>
                  <ValueExpression>replace(concat(/JsonRootNode/ne-id,'/',substring-before(substring-after(/JsonRootNode/parent,'equipment-id='),']')),"'","")</ValueExpression>
               </Key>	
             </SelfKey>
			 -->
				<SelfKey>
					<Key>
						<Name>DaughterCardToPort</Name>
						<ValueExpression>concat('DaughterCardToPort/',substring-before(/JsonRootNode/objectFullName,':port-'))</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>ConnectortoPort</Name>
						<ValueExpression>substring-before(/JsonRootNode/objectFullName,':port-')</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>PhysicalLinkToPhysicalPortA</Name>
						<ValueExpression>concat('PhysicalLinkToPhysicalPortA/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>PhysicalLinkToPhysicalPortB</Name>
						<ValueExpression>concat('PhysicalLinkToPhysicalPortB/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>VprnSapToPhysicalPort</Name>
						<ValueExpression>concat('VprnSapToPhysicalPort/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>SAPPort</Name>
						<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
					</Key>
				</SelfKey>
				
			<!-- Association added	 -->
				<JoinKey>
					<Association FlipDirection="true">
						<Target>PhysicalDevice</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>PhysicalDeviceAssoc</Name>
						<!-- <ValueExpression>concat('Port-',/JsonRootNode/portId)</ValueExpression> -->
						<ValueExpression>/JsonRootNode/siteId</ValueExpression>
					</Key>
				</JoinKey>
				
				
				
				
				
				
			</KeyBasedAssoication>
		</AssoicationList>
	</Entity>
	<Entity type="PhysicalPort" markForAsso="true">
		<Filter>
			<ValueExpression>(/JsonRootNode/className eq 'equipment.PhysicalPort') and not (contains(/JsonRootNode/phyShelfClass,'ethSat'))</ValueExpression>
		</Filter>
		<AttributeList>
			<Attribute>
				<Name>LocalName</Name>
				<ValueExpression>concat('Port-',/JsonRootNode/portId)</ValueExpression>
				<Context>
					<ValueExpression/>
				</Context>
			</Attribute>
			<Attribute>
				<Name>Context</Name>
				<ValueExpression>substring-before(/JsonRootNode/objectFullName,':port-')</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>Kind</Name>
				<ValueExpression/>
				<!-- <ValueExpression>if(contains(/JsonRootNode/className,'ProcessorCard')) then 'ProcessorCard' else(if(contains(/JsonRootNode/className,'BaseCard')) then 'BaseCard' else 'Card')</ValueExpression> -->
				<DefaultValue>AggPhysicalPort</DefaultValue>
			</Attribute>
		
			<Attribute>
				<Name>Category</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DiscoveredName</Name>
				<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DisplayName</Name>
				<ValueExpression>/JsonRootNode/displayedName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>portNumber</Name>
				<ValueExpression>/JsonRootNode/portId</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>description</Name>
				<ValueExpression>/JsonRootNode/description</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/isEnabled</ValueExpression>
				<Key>isEnabled</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/reasonDown</ValueExpression>
				<Key>reasonDown</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessBandwidth</ValueExpression>
				<Key>accessBandwidth</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessBookingFactor</ValueExpression>
				<Key>accessBookingFactor</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessAvailableBW</ValueExpression>
				<Key>accessAvailableBW</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/accessBookedBW</ValueExpression>
				<Key>accessBookedBW</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portId</ValueExpression>
				<Key>portId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portCategory</ValueExpression>
				<Key>portCategory</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portClass</ValueExpression>
				<Key>portClass</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<Key>specificType</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/specificCardType</ValueExpression>
				<Key>specificCardType</Key>
			</Attribute>			
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/mode</ValueExpression>
				<Key>mode</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/encapType</ValueExpression>
				<Key>encapType</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/isLinkUp</ValueExpression>
				<Key>isLinkUp</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/state</ValueExpression>
				<Key>state</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/mtuValue</ValueExpression>
				<Key>mtuValue</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/operationalMTU</ValueExpression>
				<Key>operationalMTU</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/speed</ValueExpression>
				<Key>speed</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/actualSpeed</ValueExpression>
				<Key>actualSpeed</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/portName</ValueExpression>
				<Key>portName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteId</ValueExpression>
				<Key>siteId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteName</ValueExpression>
				<Key>siteName</Key>
			</Attribute>
			
				<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/operationalState</ValueExpression>
				<Key>aggOperationalState</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/administrativeState</ValueExpression>
				<Key>aggAdministrativeState</Key>
			</Attribute>
			
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/name</ValueExpression>
				<Key>name</Key>
			</Attribute>
		</AttributeList>
		<AssoicationList>
			<KeyBasedAssoication>
				<!--
			<SelfKey>			
			<Key>
                  <Name>CardToPort</Name>
                  <ValueExpression>replace(concat(/JsonRootNode/ne-id,'/',substring-before(substring-after(/JsonRootNode/parent,'equipment-id='),']')),"'","")</ValueExpression>
               </Key>	
             </SelfKey>
			 -->
				<SelfKey>
					<Key>
						<Name>DaughterCardToPort</Name>
						<ValueExpression>concat('DaughterCardToPort/',substring-before(/JsonRootNode/objectFullName,':port-'))</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>ConnectortoPort</Name>
						<ValueExpression>substring-before(/JsonRootNode/objectFullName,':port-')</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>PhysicalLinkToPhysicalPortA</Name>
						<ValueExpression>concat('PhysicalLinkToPhysicalPortA/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>PhysicalLinkToPhysicalPortB</Name>
						<ValueExpression>concat('PhysicalLinkToPhysicalPortB/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>VprnSapToPhysicalPort</Name>
						<ValueExpression>concat('VprnSapToPhysicalPort/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</SelfKey>
				<SelfKey>
					<Key>
						<Name>SAPPort</Name>
						<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
					</Key>
				</SelfKey>
				
					<!-- Association added	 -->
				<JoinKey>
					<Association FlipDirection="true">
						<Target>PhysicalDevice</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>PhysicalDeviceAssoc</Name>
						<!-- <ValueExpression>concat('Port-',/JsonRootNode/portId)</ValueExpression> -->
						<ValueExpression>/JsonRootNode/siteId</ValueExpression>
					</Key>
				</JoinKey>
				
				
				
			</KeyBasedAssoication>
		</AssoicationList>
	</Entity>
</EntityList>
