<EntityList name="NFMPFilterGroup" RootFilterExpression="$[?(@.className=='equipment.DaughterCard')]" FilterHandler="com.nokia.nsw.uiv.adapter.handler.xml.NFMPL2VPNGenericNodeHandler">
	<Entity type="PhysicalComponent" markForAsso="true">
		<Filter>
			<ValueExpression>(/JsonRootNode/className eq 'equipment.DaughterCard') and contains(/JsonRootNode/phyShelfClass,'ethSat')</ValueExpression>
		</Filter>
		<AttributeList>
			<Attribute>
				<Name>LocalName</Name>
				<ValueExpression>concat(/JsonRootNode/name,'-',/JsonRootNode/daughterCardSlotId)</ValueExpression>
				<Context>
					<ValueExpression/>
				</Context>
			</Attribute>
			<Attribute>
				<Name>Context</Name>
				<ValueExpression>concat(substring-before(/JsonRootNode/objectFullName,concat(':',/JsonRootNode/name)),'-',/JsonRootNode/slotId,':daughterCardSlot-',/JsonRootNode/daughterCardSlotId)</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>Kind</Name>
				<ValueExpression/>
				<!-- <ValueExpression>if(contains(/JsonRootNode/className,'ProcessorCard')) then 'ProcessorCard' else(if(contains(/JsonRootNode/className,'BaseCard')) then 'BaseCard' else 'Card')</ValueExpression> -->
				<DefaultValue>AggCard</DefaultValue>
			</Attribute>
			<Attribute>
				<Name>Category</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>SerialNumber</Name>
				<ValueExpression>/JsonRootNode/serialNumber</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DiscoveredName</Name>
				<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DisplayName</Name>
				<ValueExpression>/JsonRootNode/displayedName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<Key>specificType</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/numberOfPorts</ValueExpression>
				<Key>numberOfPorts</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/slotName</ValueExpression>
				<Key>slotName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/numberOfEquippedXioms</ValueExpression>
				<Key>numberOfEquippedXioms</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/cardStatus</ValueExpression>
				<Key>cardStatus</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteId</ValueExpression>
				<Key>siteId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/shelfId</ValueExpression>
				<Key>shelfId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/slotId</ValueExpression>
				<Key>slotId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/daughterCardSlotId</ValueExpression>
				<Key>daughterCardSlotId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/displayedName</ValueExpression>
				<Key>displayedName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteName</ValueExpression>
				<Key>siteName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/hwName</ValueExpression>
				<Key>hwName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/cleiCode</ValueExpression>
				<Key>cleiCode</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/equipmentState</ValueExpression>
				<Key>equipmentState</Key>
			</Attribute>
		  <Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/operationalState</ValueExpression>
				<Key>aggOperationalState</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/administrativeState</ValueExpression>
				<Key>aggAdministrativeState</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/isEquipped</ValueExpression>
				<Key>isEquipped</Key>
			</Attribute>
		</AttributeList>
		<AssoicationList>
			<KeyBasedAssoication>
				<SelfKey>
					<Key>
						<Name>DaughterCardSlotToDaughterCard</Name>
						<!--ValueExpression>concat(substring-before(/JsonRootNode/objectFullName,':daughterCardSlot'),':daughterCardSlot-',/JsonRootNode/daughterCardSlotId)</ValueExpression-->
						<!--<ValueExpression>concat('DaughterCardSlotToDaughterCard/',/JsonRootNode/siteId,'/',/JsonRootNode/shelfId,'/',/JsonRootNode/slotId,'/',/JsonRootNode/daughterCardSlotId)</ValueExpression> -->
						<ValueExpression>concat(substring-before(/JsonRootNode/objectFullName,concat(':',/JsonRootNode/name)),'-',/JsonRootNode/slotId,':daughterCardSlot-',/JsonRootNode/daughterCardSlotId)</ValueExpression>
					</Key>
				</SelfKey>
				<JoinKey>
					<Association>
						<Target>PhysicalComponent</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>CardToDaughterCardslot</Name>
						<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
					</Key>
				</JoinKey>
				<JoinKey>
					<Association>
						<Target>PhysicalPort</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>DaughterCardToPort</Name>
						<ValueExpression>concat('DaughterCardToPort/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</JoinKey>
				<JoinKey>
					<Association>
						<Target>PhysicalComponent</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>DaughterCardToConnector</Name>
						<ValueExpression>concat('DaughterCardToConnector/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</JoinKey>
			</KeyBasedAssoication>
		</AssoicationList>
	</Entity>
	
	<Entity type="PhysicalComponent" markForAsso="true">
		<Filter>
			<ValueExpression>(/JsonRootNode/className eq 'equipment.DaughterCard') and not (contains(/JsonRootNode/phyShelfClass,'ethSat'))</ValueExpression>
		</Filter>
		<AttributeList>
			<Attribute>
				<Name>LocalName</Name>
				<ValueExpression>concat(/JsonRootNode/name,'-',/JsonRootNode/daughterCardSlotId)</ValueExpression>
				<Context>
					<ValueExpression/>
				</Context>
			</Attribute>
			<Attribute>
				<Name>Context</Name>
				<ValueExpression>concat(substring-before(/JsonRootNode/objectFullName,concat(':',/JsonRootNode/name)),'-',/JsonRootNode/slotId,':daughterCardSlot-',/JsonRootNode/daughterCardSlotId)</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>Kind</Name>
				<ValueExpression/>
				<!-- <ValueExpression>if(contains(/JsonRootNode/className,'ProcessorCard')) then 'ProcessorCard' else(if(contains(/JsonRootNode/className,'BaseCard')) then 'BaseCard' else 'Card')</ValueExpression> -->
				<DefaultValue>AggCard</DefaultValue>
			</Attribute>
			<Attribute>
				<Name>Category</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>SerialNumber</Name>
				<ValueExpression>/JsonRootNode/serialNumber</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DiscoveredName</Name>
				<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			<Attribute>
				<Name>DisplayName</Name>
				<ValueExpression>/JsonRootNode/displayedName</ValueExpression>
				<DefaultValue/>
			</Attribute>
			
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/specificType</ValueExpression>
				<Key>specificType</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/numberOfPorts</ValueExpression>
				<Key>numberOfPorts</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/slotName</ValueExpression>
				<Key>slotName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/numberOfEquippedXioms</ValueExpression>
				<Key>numberOfEquippedXioms</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/cardStatus</ValueExpression>
				<Key>cardStatus</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteId</ValueExpression>
				<Key>siteId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/shelfId</ValueExpression>
				<Key>shelfId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/slotId</ValueExpression>
				<Key>slotId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/daughterCardSlotId</ValueExpression>
				<Key>daughterCardSlotId</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/displayedName</ValueExpression>
				<Key>displayedName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/siteName</ValueExpression>
				<Key>siteName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/hwName</ValueExpression>
				<Key>hwName</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/cleiCode</ValueExpression>
				<Key>cleiCode</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/equipmentState</ValueExpression>
				<Key>equipmentState</Key>
			</Attribute>
			  <Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/operationalState</ValueExpression>
				<Key>aggOperationalState</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/administrativeState</ValueExpression>
				<Key>aggAdministrativeState</Key>
			</Attribute>
			<Attribute>
				<Name>Property</Name>
				<ValueExpression>/JsonRootNode/isEquipped</ValueExpression>
				<Key>isEquipped</Key>
			</Attribute>
		</AttributeList>
		<AssoicationList>
			<KeyBasedAssoication>
				<SelfKey>
					<Key>
						<Name>DaughterCardSlotToDaughterCard</Name>
						<!--ValueExpression>concat(substring-before(/JsonRootNode/objectFullName,':daughterCardSlot'),':daughterCardSlot-',/JsonRootNode/daughterCardSlotId)</ValueExpression-->
						<!--<ValueExpression>concat('DaughterCardSlotToDaughterCard/',/JsonRootNode/siteId,'/',/JsonRootNode/shelfId,'/',/JsonRootNode/slotId,'/',/JsonRootNode/daughterCardSlotId)</ValueExpression> -->
						<ValueExpression>concat(substring-before(/JsonRootNode/objectFullName,concat(':',/JsonRootNode/name)),'-',/JsonRootNode/slotId,':daughterCardSlot-',/JsonRootNode/daughterCardSlotId)</ValueExpression>
					</Key>
				</SelfKey>
				<JoinKey>
					<Association>
						<Target>PhysicalComponent</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>CardToDaughterCardslot</Name>
						<ValueExpression>/JsonRootNode/objectFullName</ValueExpression>
					</Key>
				</JoinKey>
				<JoinKey>
					<Association>
						<Target>PhysicalPort</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>DaughterCardToPort</Name>
						<ValueExpression>concat('DaughterCardToPort/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</JoinKey>
				<JoinKey>
					<Association>
						<Target>PhysicalComponent</Target>
						<Type>CONTAINS</Type>
					</Association>
					<Key>
						<Name>DaughterCardToConnector</Name>
						<ValueExpression>concat('DaughterCardToConnector/',/JsonRootNode/objectFullName)</ValueExpression>
					</Key>
				</JoinKey>
			</KeyBasedAssoication>
		</AssoicationList>
	</Entity>
</EntityList>
